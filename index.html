<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ TON</title>
  <script type="module">
    import { TonConnectUI } from "https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js";

    const tonConnectUI = new TonConnectUI({
      manifestUrl: "https://olegvitsh.github.io/ton-webapp/tonconnect-manifest.json",
      buttonRootId: "ton-connect-button"
    });

    document.getElementById("pay").onclick = async () => {
      const connectedWallet = await tonConnectUI.connectedWallet;
      if (!connectedWallet) {
        alert("–°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫.");
        return;
      }

      try {
        await tonConnectUI.sendTransaction({
          validUntil: Math.floor(Date.now() / 1000) + 300,
          messages: [{
            address: "–í–ê–®_TON_–ê–î–†–ï–°",
            amount: "100000000", // 0.1 TON
          }]
        });
        alert("–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
      } catch (err) {
        alert("–û—à–∏–±–∫–∞: " + err.message);
      }
    };
  </script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; }
    button { font-size: 1.2rem; padding: 1rem 2rem; margin: 1rem; }
  </style>
</head>
<body>
  <h1>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ TON</h1>
  <div id="ton-connect-button"></div>
  <button id="pay">üí∏ –û–ø–ª–∞—Ç–∏—Ç—å</button>
</body>
</html>
