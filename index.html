<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ TON</title>
  <script type="module">
    import { TonConnectUI } from "https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js";

    const tonConnectUI = new TonConnectUI({
      manifestUrl: "https://olegvitsh.github.io/ton-webapp/tonconnect-manifest.json",
      buttonRootId: "ton-connect-button"
    });

    document.addEventListener("DOMContentLoaded", () => {
      const payBtn = document.getElementById("pay");

      payBtn.onclick = async () => {
        const wallet = await tonConnectUI.connectedWallet;
        if (!wallet) {
          alert("–°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ.");
          return;
        }

        try {
          await tonConnectUI.sendTransaction({
            validUntil: Math.floor(Date.now() / 1000) + 300,
            messages: [{
              address: "–í–ê–®_TON_–ê–î–†–ï–°", // ‚Üê –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å
              amount: "100000000",      // 0.1 TON
            }]
          });
          alert("–ü–ª–∞—Ç—ë–∂ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Telegram.");
        } catch (err) {
          alert("–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: " + err.message);
        }
      };
    });
  </script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; }
    button { font-size: 1.2rem; padding: 1rem 2rem; margin: 1rem; }
  </style>
</head>
<body>
  <h1>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ TON</h1>
  <div id="ton-connect-button"></div>
  <button id="pay">üí∏ –û–ø–ª–∞—Ç–∏—Ç—å</button>
</body>
</html>
